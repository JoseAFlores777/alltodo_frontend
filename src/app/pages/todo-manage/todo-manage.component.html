<p-tabView>
    <p-tabPanel header="To Do" class="tab-todo-manage">


        <!-- ======= checkbox style start ======= -->

        <h6 class="mb-25">{{todoTypeView.Title_forTodo}}</h6>



        <!-- start checkbox -->
        <div *ngFor="let todo of todos">
            <div *ngIf="!todo.completed" class="card-style card-style-todo">
                <div class="todo-check-box form-check checkbox-style checkbox-primary" style="margin: -18px;">
                    <input class="form-check-input" type="checkbox" [checked]="todo.completed" id="checkbox-4" />
                    <label class="form-check-label" for="checkbox-4">{{todo.title}}</label>
                    <button pRipple style="border: none;" type="button"
                        (click)="showEditTodoForm(todo)"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-pencil"></i></button>

                    <button pRipple (click)="confirmDeleteTodo($event, todo.id)" style="border: none;" type="button"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-trash"></i></button>
                </div>
            </div>
        </div>
        <!-- end checkbox -->

        <!-- start checkbox -->
        <div >
            <div  class="card-style card-style-todo">
                <div class="todo-check-box form-check checkbox-style checkbox-primary" style="margin: -18px;">
                    <input class="form-check-input" type="checkbox" [checked]="false" id="checkbox-4" />
                    <label class="form-check-label" for="checkbox-4">62056fd34026880eac45096f</label>
                    <button pRipple style="border: none;" type="button"
                        (click)="showEditTodoForm()"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-pencil"></i></button>

                    <button pRipple (click)="confirmDeleteTodo($event, 'asdasd')" style="border: none;" type="button"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-trash"></i></button>
                </div>
            </div>
        </div>
        <!-- end checkbox -->




        <!-- Start add Todo Button -->
        <button *ngIf="!visibilityTodoDialog" pRipple style="border: none; margin-top: 8px;" type="button"
            class="btn btn-outline-secondary mb-2" (click)="showAddTodoDialog()">
            <i class="pi pi-plus"></i>
            add Task
        </button>
        <!-- End add Todo Button -->


        <!-- ======= Add new Todo Form ======= -->
        <form *ngIf="visibilityTodoDialog" class="mt-3" [formGroup]="todoAddForm" (ngSubmit)="createTodo()">
            <div class="card-style ">
                <div class="row">
                    <div class="col-12">

                        <input placeholder="Title" style="width: 100%; border: none; color: #1a1a1a; font-weight: bold;"
                            formControlName="title">
                    </div>
                    <div class="col-12 mt-3">
                        <textarea formControlName="description" style="width: 100%; border: none; color: #575757;"
                            placeholder="Description" name="" id="" cols="10" rows="5"></textarea>
                    </div>

                </div>


                <div class="row">
                    <div class="col-12 ">



                        <a pButton #btnProject id="btn-choose-project" class="p-button-text p-button-plain  float-end"
                            [style.color]=" selectedProject ? selectedProject.color : 'none' "
                            [label]="selectedProject ? selectedProject.name : 'Project'" icon="pi pi-sitemap"
                            (click)="op.toggle($event)"></a>
                        <a pButton #btnSchedule id="btn-schedule" class="p-button-text p-button-plain  float-end"
                            [label]="getDateScheduleFormated() ? getDateScheduleFormated()! : 'Schedule'"
                            icon="pi pi-calendar" (click)="op2.toggle($event)"></a>


                    </div>
                </div>
            </div>
            <div style="margin-top: 10px; margin-left: 10px;">
                <button pRipple style="border: none; background-color: #6c6eb3; margin-right: 3px;" type="submit"
                    class="btn btn-primary float-left">Save</button>
                <a pRipple style="border: none;" class="btn btn-outline-secondary float-left"
                    (click)="hideAddTodoDialog()">Cancel</a>
            </div>
        </form>






        <!-- ======= Add new Todo Form End ======= -->


        <!-- ======= checkbox style end ======= -->




    </p-tabPanel>
    <p-tabPanel header="Completed">


        <!-- ======= checkbox style start ======= -->

        <h6 class="mb-25">{{todoTypeView.Title_completed}}</h6>


        <!-- start checkbox -->
        <div *ngFor="let todo of todos">
            <div *ngIf="todo.completed" class="card-style card-style-todo">
                <div class="todo-check-box form-check checkbox-style checkbox-primary" style="margin: -18px;">
                    <input class="form-check-input" type="checkbox" [checked]="todo.completed" id="checkbox-4" />
                    <label class="form-check-label" for="checkbox-4">{{todo.title}}</label>
                    <button pRipple style="border: none;" type="button"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-pencil"></i></button>
                    <button pRipple (click)="confirmDeleteTodo($event, todo.id)" style="border: none;" type="button"
                        class="btn btn-outline-secondary float-end btn-edit-todo"><i class="pi pi-trash"></i></button>
                </div>
            </div>
        </div>
        <!-- end checkbox -->



        <!-- ======= checkbox style end ======= -->




    </p-tabPanel>
</p-tabView>









<!-- Schedule -->
<p-overlayPanel appendTo="body" #op2 [dismissable]="false" (hide)="idDialogScheduleHide" [showCloseIcon]="true"
    (onHide)="onShowScheduleDialog()">
    <ng-template pTemplate>

        <div class="card">
            <div class="card-body" style="padding: 2px;">
                <div class="row  justify-content-center">
                    <div class="col-3 text-center">
                        <a (click)="setTime(timeTypes.TODAY, op2)" style="color: #6c6eb3;"
                            class="btn btn-calendar p-button-plain">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-sun">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            <br>
                            Today</a>
                    </div>
                    <div class="col-3 text-center">
                        <a (click)="setTime(timeTypes.TOMORROW, op2)" style="color: #31c5f4;" class="btn btn-calendar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-sun">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            <br>
                            Tomorrow</a>
                    </div>
                    <div class="col-6 text-center">
                        <a (click)="setTime(timeTypes.NEXT_WEEK, op2)" style="color: #f071ab;" class="btn btn-calendar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-calendar">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <br>
                            Next Week</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="input-style-2 mt-4">
            <input #scheduleCalendar type="datetime-local" [value]="schedule_tmp" [min]="minDate">
        </div>


    </ng-template>
</p-overlayPanel>





<!-- Projects -->

<p-overlayPanel appendTo="body" #op [showCloseIcon]="true" [style]="{width: '250px'}">
    <ng-template pTemplate>
        <p-table [value]="projects" selectionMode="single" [(selection)]="selectedProject"
            (onRowSelect)="onRowSelect($event)" [paginator]="false" responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="name">Project Name<p-sortIcon field="name"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-project>
                <tr [pSelectableRow]="rowData">
                    <td>
                        <i class="fas fa-circle" [style.color]="project.color" style="margin-right: 3px;"></i>
                        {{project.name}}

                    </td>
                </tr>
            </ng-template>
        </p-table>
    </ng-template>
</p-overlayPanel>




<p-dialog header="Edit Todo" [draggable]="false" [(visible)]="displayEditTodo2" [modal]="true" [responsive]="false"
    [baseZIndex]="10000" appendTo="body" (onHide)="hideEditTodoForm()" (onShow)="showEditTodoForm()" >



    <form id="TodoFormId" [formGroup]="todoEditForm" (ngSubmit)="editTodo()">
        <div class="row">
            <div class="input-style-1">
                <label>Title</label>
                <input type="text" placeholder="Name"  formControlName='title'/>
            </div>
            <!-- end input -->
            <div class="input-style-1">
                <label>Description</label>
                <textarea placeholder="Description" rows="5" formControlName="description"></textarea>
            </div>
        </div>
        <div class="row">
            <div class="input-style-1 col-6">
                <label>Date</label>
                <input type="text" placeholder="Name"  formControlName='projectId'/>
            </div>
            <!-- end input -->
            <div class="select-style-1 col-6">
                <label>Project</label>
                <div class="select-position">
                  <select class="light-bg"  formControlName="gender" >
                    <option value="Female">Female</option>
                    <option value="Male">Male</option>
                  </select>
                </div>
              </div>
        </div>
        <!-- end input -->


        
        
            
            <p-footer>
                <button pRipple type="submit" icon="pi pi-info-circle" class="btn btn-outline-primary mt-3 float-end">
                    <!-- [disabled]="nameForm.invalid || !nameForm.touched"> -->
                    Update
                </button>
            </p-footer>
        

    </form>
    <p-toast></p-toast>

    <p-confirmPopup [baseZIndex]="30000"></p-confirmPopup>

</p-dialog>


